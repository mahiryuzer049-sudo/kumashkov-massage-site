import{g as u}from"./runtime-env-BTGPA9v1.js";const l=Object.freeze({nav_click:{category:"nav",required:["href","source"]},nav_jump:{category:"nav",required:["id","source"]},nav_jump_success:{category:"nav",required:["id","source"]},nav_jump_miss:{category:"nav",required:["id","source"]},menu_open:{category:"nav",required:["source"]},menu_close:{category:"nav",required:["source"]},cta_from_section:{category:"cta",required:["id","intent"]},scanner_zone_open:{category:"scanner",required:["zone","source"]},scanner_zone_close:{category:"scanner",required:["zone","source"]},scanner_cta_click:{category:"scanner",required:["zone"]}}),d=()=>{const{win:t,doc:n}=u(),e=n&&n.body?n.body:null,a=n&&n.documentElement?n.documentElement:null;return{path:t&&t.location?t.location.pathname:"",pageType:e&&e.dataset&&e.dataset.pageType||"",locale:(a&&a.getAttribute?a.getAttribute("lang"):"")||e&&e.dataset&&e.dataset.locale||"",activeSection:e&&e.dataset&&e.dataset.activeSection||"",navIntent:e&&e.dataset&&e.dataset.navIntent||"",experiments:a&&a.dataset&&a.dataset.experiments||""}},y=t=>!t||typeof t!="object"?{}:t,p=(t,n={})=>{const e=l[t]||{category:"custom",required:[]},a=y(n),c=[];(e.required||[]).forEach(s=>{a[s]||c.push(s)});const o=d(),r={event:t,category:e.category,timestamp:Date.now(),page_path:o.path,page_type:o.pageType,page_locale:o.locale,active_section:o.activeSection,nav_intent:o.navIntent,experiments:o.experiments,...a};return c.length&&(r.missing=c),r},i=(t,n,e)=>{if(!(!t||!n))try{t.dispatchEvent(new CustomEvent(n,{detail:e}))}catch{}},g=(t,n={},e=0,a={})=>{const{win:c}=u();if(!c)return;const o=p(t,n),r=a.channel||"analytics-event";i(c,r,o),a.legacyChannel&&i(c,a.legacyChannel,o),Array.isArray(c.dataLayer)&&c.dataLayer.push(o),e&&typeof c.ym=="function"&&c.ym(e,"reachGoal",t,o)},v=(t,n={},e=0)=>g(t,n,e,{legacyChannel:"nav-event"});export{g as a,v as e};
