const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scanner-v4-C_GOjz9l.js","assets/index-BYDhyiYq.js","assets/wa-link-builder-CZFtJDu3.js","assets/emit-event-D_28Pgnv.js","assets/runtime-env-BTGPA9v1.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./main-CuNs_mFT.js";import{g as u}from"./runtime-env-BTGPA9v1.js";const d=e=>{const n=e.getElementById("scanner")||e.getElementById("scanner-section");return{scanLine:e.getElementById("scan-line"),scanStage:e.getElementById("scanner-container"),scannerSection:n}},g=({reducedEffects:e,lowPowerEffects:n})=>!e&&!n,f=({win:e,scanStage:n})=>{if(!n)return;let s=null;const r=()=>{s=null;const a=n.clientHeight||0;n.style.setProperty("--scan-range",`${a}px`)},t=()=>{s||(s=e.requestAnimationFrame(r))};e.addEventListener("resize",t),e.addEventListener("load",t),t()},h=({win:e,scanLine:n,scannerSection:s,reducedEffects:r,lowPowerEffects:t})=>{if(!n||!g({reducedEffects:r,lowPowerEffects:t}))return;if(!(s&&"IntersectionObserver"in e)){n.classList.add("animate-scan");return}new e.IntersectionObserver(c=>{c.forEach(o=>{n.classList.toggle("animate-scan",o.isIntersecting)})},{threshold:.22}).observe(s)},E=({scannerRoot:e,sitePhone:n,whatsappLoadingText:s,reducedEffects:r})=>{e&&m(async()=>{const{initScannerV4:t}=await import("./scanner-v4-C_GOjz9l.js");return{initScannerV4:t}},__vite__mapDeps([0,1,2,3,4])).then(({initScannerV4:t})=>{t({root:e,phoneDigits:n,whatsappLoadingText:s,reducedEffects:r})}).catch(()=>{})},S=e=>{const{sitePhone:n,whatsappLoadingText:s,reducedEffects:r,lowPowerEffects:t}=e,{win:a,doc:c}=u();if(!(a&&c))return;const{scanLine:o,scanStage:l,scannerSection:i}=d(c);f({win:a,scanStage:l}),h({win:a,scanLine:o,scannerSection:i,reducedEffects:r,lowPowerEffects:t}),E({scannerRoot:i,sitePhone:n,whatsappLoadingText:s,reducedEffects:r})};export{S as initScanner};
