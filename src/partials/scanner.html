<!-- SCANNER -->
<section id="scanner-section" class="section-shell bg-[#070707] border-y border-white/5">
  <div class="max-w-6xl mx-auto px-6 relative z-10">
    <div class="section-head reveal-on-scroll">
      <p class="section-kicker">Body Scanner 2.0</p>
      <h2 class="section-title">Послушайте сигналы тела</h2>
      <p class="section-subtitle">
        Нажмите на зону, которая беспокоит прямо сейчас. Сканер покажет короткую интерпретацию и предложит стартовый
        формат сессии.
      </p>
    </div>

    <div class="grid xl:grid-cols-[1.15fr_0.85fr] gap-8 items-start">
      <div id="scanner-container" class="scanner-stage card-luxe reveal-on-scroll group relative p-4 md:p-6">
        <div class="scanner-grid" aria-hidden="true"></div>
        <div class="scanner-vignette" aria-hidden="true"></div>
        <div id="scan-line" class="scan-line" aria-hidden="true"></div>

        <svg
          viewBox="0 0 220 520"
          class="scanner-figure relative z-10"
          role="img"
          aria-label="Силуэт тела с интерактивными зонами"
        >
          <defs>
            <linearGradient id="bodyFill" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="rgba(227, 200, 173, 0.16)"></stop>
              <stop offset="100%" stop-color="rgba(227, 200, 173, 0.04)"></stop>
            </linearGradient>
          </defs>

          <path
            class="scanner-outline"
            d="M110 20
               C128 20 142 33 142 52
               C142 68 132 80 120 84
               L120 104
               C138 112 154 130 160 152
               C167 177 166 212 153 241
               C145 259 133 271 120 280
               L120 345
               C132 379 136 422 130 462
               C126 488 119 503 110 512
               C101 503 94 488 90 462
               C84 422 88 379 100 345
               L100 280
               C87 271 75 259 67 241
               C54 212 53 177 60 152
               C66 130 82 112 100 104
               L100 84
               C88 80 78 68 78 52
               C78 33 92 20 110 20 Z"
          ></path>
          <path class="scanner-skeleton" d="M110 84 L110 354"></path>
          <path class="scanner-skeleton" d="M100 176 Q110 184 120 176"></path>
          <path class="scanner-skeleton" d="M96 244 Q110 256 124 244"></path>

          <g
            class="active-point"
            data-point="head"
            role="button"
            tabindex="0"
            aria-label="Тяжесть и шум в голове"
            data-analytics="Scanner: Point Click - Head"
          >
            <circle cx="110" cy="52" r="24" class="hit-area"></circle>
            <circle cx="110" cy="52" r="3.2" class="zone-dot"></circle>
            <circle cx="110" cy="52" r="11" class="pulse-ring"></circle>
            <text class="scanner-label" x="142" y="56">Голова</text>
          </g>

          <g
            class="active-point"
            data-point="neck"
            role="button"
            tabindex="0"
            aria-label="Напряжение в шее"
            data-analytics="Scanner: Point Click - Neck"
          >
            <circle cx="110" cy="101" r="22" class="hit-area"></circle>
            <circle cx="110" cy="101" r="3.2" class="zone-dot"></circle>
            <circle cx="110" cy="101" r="10" class="pulse-ring" style="animation-delay: 0.2s"></circle>
            <text class="scanner-label" x="142" y="105">Шея</text>
          </g>

          <g
            class="active-point"
            data-point="shoulders"
            role="button"
            tabindex="0"
            aria-label="Скованность плечевого пояса"
            data-analytics="Scanner: Point Click - Shoulders"
          >
            <circle cx="78" cy="144" r="24" class="hit-area"></circle>
            <circle cx="142" cy="144" r="24" class="hit-area"></circle>
            <circle cx="78" cy="144" r="3.1" class="zone-dot"></circle>
            <circle cx="142" cy="144" r="3.1" class="zone-dot"></circle>
            <circle cx="78" cy="144" r="10" class="pulse-ring" style="animation-delay: 0.35s"></circle>
            <text class="scanner-label" x="142" y="148">Плечи</text>
          </g>

          <g
            class="active-point"
            data-point="back"
            role="button"
            tabindex="0"
            aria-label="Зажим в спине и пояснице"
            data-analytics="Scanner: Point Click - Back"
          >
            <circle cx="110" cy="236" r="30" class="hit-area"></circle>
            <circle cx="110" cy="236" r="3.2" class="zone-dot"></circle>
            <circle cx="110" cy="236" r="14" class="pulse-ring" style="animation-delay: 0.1s"></circle>
            <text class="scanner-label" x="142" y="240">Спина</text>
          </g>

          <g
            class="active-point"
            data-point="legs"
            role="button"
            tabindex="0"
            aria-label="Тяжесть в ногах"
            data-analytics="Scanner: Point Click - Legs"
          >
            <circle cx="110" cy="392" r="36" class="hit-area"></circle>
            <circle cx="110" cy="392" r="3.2" class="zone-dot"></circle>
            <circle cx="110" cy="392" r="16" class="pulse-ring" style="animation-delay: 0.45s"></circle>
            <text class="scanner-label" x="142" y="396">Ноги</text>
          </g>
        </svg>

        <div
          id="zone-popup"
          class="scanner-popup glass-panel border border-champagne/20 p-5 md:p-6"
          role="dialog"
          aria-modal="false"
          aria-labelledby="zone-title"
          aria-describedby="zone-desc"
          aria-hidden="true"
          tabindex="-1"
        >
          <div class="flex items-start justify-between gap-3">
            <div>
              <p class="text-[9px] uppercase tracking-[0.28em] text-gray-500 mb-1">Сигнал</p>
              <h3 id="zone-title" class="font-serif text-2xl text-ivory">Выберите зону</h3>
            </div>
            <button
              id="zone-close"
              type="button"
              class="w-8 h-8 rounded-full border border-white/10 text-white/60 hover:text-white hover:border-champagne/40 transition interactive-el"
              aria-label="Закрыть подсказку зоны"
            >
              ×
            </button>
          </div>
          <p id="zone-med" class="text-[10px] uppercase tracking-[0.2em] text-champagne/90 mt-3"></p>
          <p id="zone-desc" class="text-sm text-gray-300 leading-relaxed mt-3 min-h-[72px] typing-cursor"></p>
          <button
            id="zone-cta"
            type="button"
            class="mt-5 w-full btn-secondary interactive-el btn-vibrate ripple-container"
            data-analytics="Scanner: CTA Click"
          >
            Сформировать запрос по этой зоне
          </button>
        </div>
      </div>

      <aside class="space-y-5">
        <div class="card-luxe p-6 reveal-on-scroll">
          <p class="text-[9px] uppercase tracking-[0.28em] text-gray-500 mb-2">Быстрый выбор</p>
          <h3 class="font-serif text-2xl text-ivory mb-4">Выберите, что беспокоит</h3>
          <p class="text-sm text-gray-400 leading-relaxed mb-5">
            Можно нажать на точку в силуэте или выбрать вариант ниже. После выбора сразу откроется пояснение и готовый
            сценарий обращения.
          </p>
          <div class="flex flex-wrap gap-2.5">
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="head">Голова</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="neck">Шея</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="shoulders">Плечи</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="back">Спина</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="legs">Ноги</button>
          </div>
        </div>

        <div class="card-luxe p-6 reveal-on-scroll" data-reveal-delay="0.08s">
          <p class="text-[9px] uppercase tracking-[0.28em] text-gray-500 mb-2">Конфиденциально</p>
          <h3 class="font-serif text-2xl text-ivory mb-4">Никакой публичности</h3>
          <ul class="space-y-3 text-sm text-gray-300 leading-relaxed">
            <li class="flex items-start gap-2.5">
              <i class="fa-solid fa-check text-champagne text-[11px] mt-1"></i>
              <span>Запрос обсуждается только в личном чате.</span>
            </li>
            <li class="flex items-start gap-2.5">
              <i class="fa-solid fa-check text-champagne text-[11px] mt-1"></i>
              <span>Перед сеансом уточняются пожелания, противопоказания и комфортный формат.</span>
            </li>
          </ul>
          <a
            href="https://wa.me/{{site.phoneDigits}}?text=Здравствуйте,%20хочу%20обсудить%20запрос%20по%20массажу."
            class="mt-5 inline-flex btn-primary whatsapp-link interactive-el btn-vibrate ripple-container"
            data-analytics="Scanner: Main Aside CTA"
          >
            Обсудить мой запрос
          </a>
        </div>
      </aside>
    </div>
  </div>
</section>
