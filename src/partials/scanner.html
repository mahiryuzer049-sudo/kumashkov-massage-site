<!-- SCANNER -->
<section id="scanner" class="section-shell bg-[#070707]">
  <div class="max-w-6xl mx-auto px-6 relative z-10">
    <div class="section-head reveal-on-scroll">
      <p class="section-kicker">Body Scanner 2.0</p>
      <h2 class="section-title">Послушайте сигналы тела</h2>
      <p class="section-subtitle">
        Нажмите на зону, которая беспокоит прямо сейчас. Сканер покажет короткую интерпретацию
        и предложит стартовый формат сессии.
      </p>
    </div>

    <div id="scanner-anchor" class="anchor-target"></div>
    <div class="grid xl:grid-cols-[1.15fr_0.85fr] gap-8 items-start">
      <div id="scanner-container" class="scanner-stage card-luxe reveal-on-scroll group relative p-4 md:p-6" data-active-zone="">
        <div class="scanner-grid" aria-hidden="true"></div>
        <div class="scanner-vignette" aria-hidden="true"></div>
        <div id="scan-line" class="scan-line" aria-hidden="true"></div>

        <svg
          viewBox="0 0 260 560"
          class="scanner-figure relative z-10"
          role="img"
          aria-label="Силуэт тела с интерактивными зонами"
        >
          <defs>
            <linearGradient id="bodyFill" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="rgba(227, 200, 173, 0.2)"></stop>
              <stop offset="100%" stop-color="rgba(227, 200, 173, 0.05)"></stop>
            </linearGradient>
            <filter id="scannerGlow">
              <feDropShadow dx="0" dy="0" stdDeviation="4" flood-color="rgba(227, 200, 173, 0.25)"></feDropShadow>
            </filter>
          </defs>

          <circle class="scanner-zone-halo scanner-zone-halo-head" cx="130" cy="76" r="34"></circle>
          <circle class="scanner-zone-halo scanner-zone-halo-neck" cx="130" cy="124" r="28"></circle>
          <ellipse class="scanner-zone-halo scanner-zone-halo-shoulders" cx="130" cy="192" rx="58" ry="28"></ellipse>
          <ellipse class="scanner-zone-halo scanner-zone-halo-back" cx="130" cy="270" rx="56" ry="62"></ellipse>
          <ellipse class="scanner-zone-halo scanner-zone-halo-legs" cx="130" cy="420" rx="48" ry="78"></ellipse>

          <path
            class="scanner-outline"
            d="M130 34
               C154 34 172 52 172 75
               C172 95 157 111 140 114
               L140 134
               C163 141 183 158 193 183
               C205 214 201 250 184 281
               C174 299 160 312 144 321
               L144 399
               C151 425 154 459 149 494
               C146 517 139 536 130 548
               C121 536 114 517 111 494
               C106 459 109 425 116 399
               L116 321
               C100 312 86 299 76 281
               C59 250 55 214 67 183
               C77 158 97 141 120 134
               L120 114
               C103 111 88 95 88 75
               C88 52 106 34 130 34 Z"
            filter="url(#scannerGlow)"
          ></path>

          <path class="scanner-limb" d="M67 185 C52 227 53 288 79 324"></path>
          <path class="scanner-limb" d="M193 185 C208 227 207 288 181 324"></path>

          <path class="scanner-skeleton" d="M130 140 L130 402"></path>
          <path class="scanner-skeleton" d="M93 191 C109 181 151 181 167 191"></path>
          <path class="scanner-skeleton" d="M95 264 C111 275 149 275 165 264"></path>
          <path class="scanner-skeleton" d="M116 400 C108 446 108 500 120 538"></path>
          <path class="scanner-skeleton" d="M144 400 C152 446 152 500 140 538"></path>

          <g
            class="active-point"
            data-point="head"
            role="button"
            tabindex="0"
            aria-label="Тяжесть и шум в голове"
            data-analytics="Scanner: Point Click - Head"
          >
            <circle cx="130" cy="76" r="26" class="hit-area"></circle>
            <circle cx="130" cy="76" r="3.4" class="zone-dot"></circle>
            <circle cx="130" cy="76" r="12" class="pulse-ring"></circle>
            <text class="scanner-label" x="166" y="80">Голова</text>
          </g>

          <g
            class="active-point"
            data-point="neck"
            role="button"
            tabindex="0"
            aria-label="Напряжение в шее"
            data-analytics="Scanner: Point Click - Neck"
          >
            <circle cx="130" cy="124" r="23" class="hit-area"></circle>
            <circle cx="130" cy="124" r="3.4" class="zone-dot"></circle>
            <circle cx="130" cy="124" r="11" class="pulse-ring" style="animation-delay: 0.2s"></circle>
            <text class="scanner-label" x="166" y="128">Шея</text>
          </g>

          <g
            class="active-point"
            data-point="shoulders"
            role="button"
            tabindex="0"
            aria-label="Скованность плечевого пояса"
            data-analytics="Scanner: Point Click - Shoulders"
          >
            <circle cx="92" cy="190" r="26" class="hit-area"></circle>
            <circle cx="168" cy="190" r="26" class="hit-area"></circle>
            <circle cx="92" cy="190" r="3.2" class="zone-dot"></circle>
            <circle cx="168" cy="190" r="3.2" class="zone-dot"></circle>
            <circle cx="130" cy="190" r="13" class="pulse-ring" style="animation-delay: 0.32s"></circle>
            <text class="scanner-label" x="166" y="194">Плечи</text>
          </g>

          <g
            class="active-point"
            data-point="back"
            role="button"
            tabindex="0"
            aria-label="Зажим в спине и пояснице"
            data-analytics="Scanner: Point Click - Back"
          >
            <circle cx="130" cy="270" r="35" class="hit-area"></circle>
            <circle cx="130" cy="270" r="3.5" class="zone-dot"></circle>
            <circle cx="130" cy="270" r="15" class="pulse-ring" style="animation-delay: 0.1s"></circle>
            <text class="scanner-label" x="166" y="274">Спина</text>
          </g>

          <g
            class="active-point"
            data-point="legs"
            role="button"
            tabindex="0"
            aria-label="Тяжесть в ногах"
            data-analytics="Scanner: Point Click - Legs"
          >
            <circle cx="130" cy="420" r="40" class="hit-area"></circle>
            <circle cx="130" cy="420" r="3.5" class="zone-dot"></circle>
            <circle cx="130" cy="420" r="17" class="pulse-ring" style="animation-delay: 0.45s"></circle>
            <text class="scanner-label" x="166" y="424">Ноги</text>
          </g>
        </svg>

        <div
          id="zone-popup"
          class="scanner-popup glass-panel border border-champagne/20 p-5 md:p-6"
          data-open="false"
          data-active=""
          role="dialog"
          aria-modal="true"
          aria-labelledby="zone-title"
          aria-describedby="zone-desc"
          aria-hidden="true"
          tabindex="-1"
        >
          <div class="flex items-start justify-between gap-3">
            <div>
              <p class="text-[11px] uppercase tracking-[0.28em] text-gray-500 mb-1">Сигнал</p>
              <h3 id="zone-title" class="font-serif text-2xl text-ivory">Выберите зону</h3>
            </div>
            <button
              id="zone-close"
              type="button"
              class="w-8 h-8 rounded-full border border-white/10 text-white/60 hover:text-white hover:border-champagne/40 transition interactive-el"
              aria-label="Закрыть подсказку зоны"
            >
              ×
            </button>
          </div>
          <div class="scanner-popup-media" aria-hidden="true"></div>
          <p id="zone-med" class="text-[11px] uppercase tracking-[0.2em] text-champagne/90 mt-3"></p>
          <p id="zone-desc" class="text-sm text-gray-300 leading-relaxed mt-3 min-h-[72px] typing-cursor"></p>
          <button
            id="zone-cta"
            type="button"
            class="mt-5 w-full btn-secondary interactive-el btn-vibrate ripple-container"
            data-analytics="Scanner: CTA Click"
          >
            Сформировать запрос по этой зоне
          </button>
        </div>
      </div>

      <aside class="space-y-5">
        <div class="card-luxe p-6 reveal-on-scroll">
          <p class="text-[11px] uppercase tracking-[0.28em] text-gray-500 mb-2">Быстрый выбор</p>
          <h3 class="font-serif text-2xl text-ivory mb-4">Выберите, что беспокоит</h3>
          <p class="text-sm text-gray-400 leading-relaxed mb-5">
            Можно нажать на точку в силуэте или выбрать вариант ниже. После выбора сразу откроется пояснение
            и готовый сценарий обращения.
          </p>
          <div class="flex flex-wrap gap-2.5">
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="head">Голова</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="neck">Шея</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="shoulders">Плечи</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="back">Спина</button>
            <button class="zone-shortcut interactive-el" type="button" data-zone-shortcut="legs">Ноги</button>
          </div>
        </div>

        <div class="card-luxe p-6 reveal-on-scroll" data-reveal-delay="0.08s">
          <p class="text-[11px] uppercase tracking-[0.28em] text-gray-500 mb-2">Конфиденциально</p>
          <h3 class="font-serif text-2xl text-ivory mb-4">Никакой публичности</h3>
          <ul class="space-y-3 text-sm text-gray-300 leading-relaxed">
            <li class="flex items-start gap-2.5">
              <i class="fa-solid fa-check text-champagne text-[11px] mt-1"></i>
              <span>Запрос обсуждается только в личном чате.</span>
            </li>
            <li class="flex items-start gap-2.5">
              <i class="fa-solid fa-check text-champagne text-[11px] mt-1"></i>
              <span>Перед сеансом уточняются пожелания, противопоказания и комфортный формат.</span>
            </li>
          </ul>
          <a
            href="https://wa.me/{{site.phoneDigits}}?text=Здравствуйте,%20хочу%20обсудить%20запрос%20по%20массажу."
            class="mt-5 inline-flex btn-primary whatsapp-link interactive-el btn-vibrate ripple-container"
            data-analytics="Scanner: Main Aside CTA"
          >
            Обсудить мой запрос
          </a>
        </div>
      </aside>
    </div>
  </div>
</section>

