(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const p=document.body,z=window.matchMedia("(prefers-reduced-motion: reduce)").matches,C=navigator.connection&&navigator.connection.saveData,O=z||C;O&&p.classList.add("reduced-effects");const c=document.getElementById("mobile-menu-toggle"),l=document.getElementById("mobile-menu"),g=()=>{!c||!l||(c.setAttribute("aria-expanded","false"),l.classList.add("hidden"),l.setAttribute("aria-hidden","true"),p.classList.remove("menu-open"))},P=()=>{!c||!l||(c.setAttribute("aria-expanded","true"),l.classList.remove("hidden"),l.setAttribute("aria-hidden","false"),p.classList.add("menu-open"))};c&&l&&(c.addEventListener("click",()=>{c.getAttribute("aria-expanded")==="true"?g():P()}),l.querySelectorAll("a").forEach(e=>{e.addEventListener("click",g)}),document.addEventListener("click",e=>{if(!(c.getAttribute("aria-expanded")==="true"))return;const n=e.target.closest("#mobile-menu"),i=e.target.closest("#mobile-menu-toggle");!n&&!i&&g()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&g()}));window.addEventListener("load",()=>{const e=document.getElementById("loader-progress");e&&(e.style.width="100%");const t=document.getElementById("preloader");t&&setTimeout(()=>{t.style.opacity="0",t.style.visibility="hidden"},800),W()});const I=document.querySelector(".cursor-dot"),x=document.querySelector(".cursor-circle"),f=document.getElementById("spotlight");let u=window.innerWidth/2,m=window.innerHeight/2,b=u,L=m,h=!1,M=0;const $=()=>{if(!h)return;const e=.15;if(b+=(u-b)*e,L+=(m-L)*e,window.matchMedia("(pointer: fine)").matches&&x&&(x.style.transform=`translate3d(${b}px, ${L}px, 0) translate(-50%, -50%)`),Date.now()-M>1200){h=!1;return}requestAnimationFrame($)};!O&&I&&x&&f&&(f.style.setProperty("--x",`${u}px`),f.style.setProperty("--y",`${m}px`),document.addEventListener("mousemove",e=>{u=e.clientX,m=e.clientY,M=Date.now(),window.matchMedia("(pointer: fine)").matches&&(I.style.transform=`translate3d(${u}px, ${m}px, 0) translate(-50%, -50%)`,f.style.setProperty("--x",`${u}px`),f.style.setProperty("--y",`${m}px`)),h||(h=!0,requestAnimationFrame($))}));document.querySelectorAll(".interactive-el").forEach(e=>{e.addEventListener("mouseenter",()=>p.classList.add("hovering")),e.addEventListener("mouseleave",()=>p.classList.remove("hovering"))});const T=document.querySelectorAll(".reveal-on-scroll");if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&n.target.classList.add("visible")})},{threshold:.1});T.forEach(t=>e.observe(t))}else T.forEach(e=>e.classList.add("visible"));const y=document.getElementById("scan-line"),A=document.getElementById("scanner-section");y&&A&&"IntersectionObserver"in window?new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting?y.classList.add("animate-scan"):y.classList.remove("animate-scan")})},{threshold:.2}).observe(A):y&&y.classList.add("animate-scan");document.querySelectorAll(".btn-vibrate").forEach(e=>{e.addEventListener("click",()=>{navigator.vibrate&&navigator.vibrate(15)})});document.addEventListener("click",e=>{const t=e.target.closest(".ripple-container");if(!t)return;const n=document.createElement("span"),i=Math.max(t.clientWidth,t.clientHeight),s=i/2,r=t.getBoundingClientRect();n.style.width=n.style.height=`${i}px`,n.style.left=`${e.clientX-r.left-s}px`,n.style.top=`${e.clientY-r.top-s}px`,n.classList.add("ripple");const d=t.querySelector(".ripple");d&&d.remove(),t.appendChild(n)});document.addEventListener("click",e=>{const t=e.target.closest(".whatsapp-link");if(!t)return;e.preventDefault();const n=t.innerText,i=t.offsetWidth;t.style.width=`${i}px`,t.style.justifyContent="center",t.style.textAlign="center",t.innerText="Перехожу в чат...",t.classList.add("animate-pulse"),setTimeout(()=>{window.location.href=t.href,setTimeout(()=>{t.innerText=n,t.style.width="",t.style.justifyContent="",t.style.textAlign="",t.classList.remove("animate-pulse")},1e3)},800)});const D={head:{title:"Шум в голове",med:"Церебральный ангиоспазм / Хронический стресс",desc:"Чувствуете, как мысли не дают покоя даже в тишине? Тяжесть в висках — это сигнал о перегрузке. Позвольте мне вернуть вам ясность и тишину.",msg:"Павел, чувствую сильное ментальное напряжение, нужна перезагрузка."},neck:{title:"Груз на плечах",med:'Гипертонус трапеции / "Офисный синдром"',desc:"Здесь скапливается всё, что вы несете на себе. Плечи стремятся к ушам, защищаясь от мира. Мы мягко опустим этот груз, и вы снова начнете дышать.",msg:'Павел, шея и плечи "каменные", хочу легкости.'},shoulders:{title:"Эмоциональный щит",med:"Миофасциальный зажим / Психосоматика",desc:'Когда мы сдерживаем эмоции, "камень" ложится именно сюда. Это ваша броня. Я помогу растопить этот лед, чтобы вы могли расслабиться по-настоящему.',msg:"Павел, чувствую зажимы в лопатках и плечах."},back:{title:"Потеря опоры",med:"Люмбалгия / Спазм глубоких мышц",desc:"Поясница — это ваш центр безопасности. Если здесь холодно или тянет — значит, телу не хватает чувства защищенности. Мы вернем тепло и уверенность.",msg:"Павел, беспокоит поясница, не хватает ощущения опоры."},legs:{title:"Земное притяжение",med:"Лимфостаз / Отечность",desc:"Ощущение, что к ногам привязали гири. Усталость от каблуков или статики мешает летать. Лимфодренаж вернет легкость каждому вашему шагу.",msg:"Павел, тяжесть в ногах, нужен лимфодренаж."}};let Y="",v;const a=document.getElementById("zone-popup"),B=document.getElementById("zone-title"),S=document.getElementById("zone-med"),w=document.getElementById("zone-desc"),o=document.getElementById("zone-cta"),k=document.getElementById("zone-close"),q=(e,t)=>{if(!a||!B||!S||!w||!o)return;if(navigator.vibrate&&navigator.vibrate(10),a.dataset.active===e&&a.style.transform==="translateY(0)"){E();return}document.querySelectorAll(".active-point").forEach(r=>r.classList.remove("selected")),t.classList.add("selected");const n=D[e];if(!n)return;Y=n.msg,B.innerText=n.title,S.innerText=n.med,w.innerText="";const i=n.desc;let s=0;clearInterval(v),a.style.transform="translateY(0)",a.dataset.active=e,v=setInterval(()=>{w.innerText+=i.charAt(s),s+=1,s>i.length-1&&clearInterval(v)},20)},E=()=>{a&&(a.style.transform="translateY(120%)",a.dataset.active="",document.querySelectorAll(".active-point").forEach(e=>e.classList.remove("selected")),clearInterval(v))},N=()=>{if(!o)return;navigator.vibrate&&navigator.vibrate(20);const e=o.innerText;o.innerText="Перехожу в чат...",o.classList.add("bg-champagne","text-void"),o.classList.remove("bg-white/5");const t="79260899019",n=encodeURIComponent(Y);setTimeout(()=>{window.location.href=`https://wa.me/${t}?text=${n}`,setTimeout(()=>{o.innerText=e,o.classList.remove("bg-champagne","text-void"),o.classList.add("bg-white/5")},1e3)},800)};document.addEventListener("click",e=>{if(!a)return;const t=e.target.closest("#zone-popup"),n=e.target.closest(".active-point");!t&&!n&&a.style.transform==="translateY(0)"&&E()});document.querySelectorAll(".active-point").forEach(e=>{const t=e.getAttribute("data-point");e.addEventListener("click",()=>q(t,e)),e.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),q(t,e))})});k&&k.addEventListener("click",E);o&&o.addEventListener("click",N);document.addEventListener("keydown",e=>{e.key==="Escape"&&E()});const R=e=>{navigator.vibrate&&navigator.vibrate(10),document.querySelectorAll(".step-btn").forEach(s=>s.classList.remove("active"));const t=document.getElementById(`step-btn-${e}`);t&&t.classList.add("active"),document.querySelectorAll('[id^="ritual-step-"]').forEach(s=>{s.style.opacity="0",s.style.transform="translateY(20px)",s.style.pointerEvents="none"});const n=document.getElementById(`ritual-step-${e}`);n&&setTimeout(()=>{n.style.opacity="1",n.style.transform="translateY(0)",n.style.pointerEvents="auto"},50);const i=document.getElementById("ritual-progress");i&&(e===1&&(i.style.width="25%"),e===2&&(i.style.width="50%"),e===3&&(i.style.width="75%"),e===4&&(i.style.width="100%"))};document.querySelectorAll(".step-btn").forEach(e=>{const t=Number(e.getAttribute("data-step"));Number.isNaN(t)||e.addEventListener("click",()=>R(t))});function W(){const e=document.getElementById("status-container"),t=document.getElementById("typing-container");if(!e||!t)return;const n=()=>{e.style.opacity="0",e.style.transform="translateY(-10px)",setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(-50%)"},200),setTimeout(i,2500+Math.random()*1500)},i=()=>{t.style.opacity="0",t.style.transform="translateY(10px) translateY(-50%)",setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},200)};setInterval(()=>{Math.random()>.3&&n()},1e4)}document.querySelectorAll("[data-analytics]").forEach(e=>{e.addEventListener("click",()=>{})});
